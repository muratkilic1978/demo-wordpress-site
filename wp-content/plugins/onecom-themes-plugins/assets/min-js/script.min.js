!function(c){function o(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var o=t[a].split("=");if(o[0]==e)return o[1]}return!1}function n(e){var t={page:o("page"),paged:e},a=window.location.href.split("?")[0]+"?"+c.param(t);history.pushState(t,null,a)}function t(){TB_WIDTH=75*c(window).width()/100,TB_HEIGHT=85*c(window).height()/100,c("#TB_window").css({marginLeft:"-"+parseInt(TB_WIDTH/2,10)+"px",width:TB_WIDTH+"px"}),c("#TB_window").css({marginTop:"-"+parseInt(TB_HEIGHT/2,10)+"px",height:TB_HEIGHT+"px"})}c(document).ready(function(){screenshotPreview(),0<c(".onecom-move-up").length&&c(".onecom-move-up").click(function(){return console.log("Clicked"),c("html, body").animate({scrollTop:0},"slow"),!1}),c(document).on("click",".one-install, .one-installed",function(){var o=c(this),n=c(this).parents(".one-theme:first");c(n).addClass("active");var e=c(this).attr("data-name"),t=c(this).attr("data-theme_slug"),a=c(this).attr("data-redirect"),i=onecom_vars.network;if(void 0!==e&&""!=e){void 0===i&&(i=!1);var r={action:e,theme_slug:t,redirect:a,network:i};c(n).addClass("active"),c(".loading-overlay.fullscreen-loader").addClass("show"),c.post(ajaxurl,r,function(e){var t=c.parseJSON(e);if(console.log(t),void 0!==t.type&&"redirect"==t.type)window.location=t.url;else{c(".onecom-notifier").html(t.message).attr("type",t.type).addClass("show");var a=5e3;"success"==t.type&&(c(n).addClass("installed"),c(o).removeClass("one-install").addClass("one-installed"),c(o).find(".action-text").remove(),c(o).find("> span").append(t.button_html),c(o).attr("data-name","onecom_activate_theme"),a=1500),setTimeout(function(){c(".onecom-notifier").removeClass("show"),c(".loading-overlay.fullscreen-loader").removeClass("show")},a)}})}}),c(document).on("click",".install-now, .activate-plugin-ajax",function(e){e.preventDefault();var o=c(this),n=c(this).parents(".one-plugin-card:first"),t=c(this).attr("data-download_url"),a=c(this).attr("data-slug"),i=c(this).attr("data-name"),r=c(this).attr("data-action"),s=c(this).attr("data-redirect"),d=void 0!==c(this).attr("data-plugin_type")?c(this).attr("data-plugin_type"):"";c(".loading-overlay.fullscreen-loader").addClass("show");var l={action:r,plugin_slug:a,plugin_name:i,download_url:t,plugin_type:d,redirect:s};c.post(ajaxurl,l,function(e){var t=c.parseJSON(e);if(console.log(t),void 0!==t.type&&"redirect"==t.type)window.location=t.url;else{c(".onecom-notifier").html(t.message).attr("type",t.type).addClass("show");var a=5e3;"success"==t.type&&(c(n).addClass("activate"),c(o).after(t.button_html),c(o).remove(),a=1500),setTimeout(function(){c(".onecom-notifier").removeClass("show"),c(".loading-overlay.fullscreen-loader").removeClass("show")},a)}})}),c(".pagination-item").click(function(e){e.preventDefault();var t=c(this).attr("data-request_page");if(!c(this).is(".current")){c(".loading-overlay.theme-loader").addClass("show"),c(".pagination-item").removeClass("current"),c(this).addClass("current");var a="theme-browser-page-"+t;if(0<c("#"+a).length)return c(".theme-browser-page").hide(),c("#"+a).show(),c(".loading-overlay.theme-loader").removeClass("show"),void n(t);var o={action:"onecom_get_more_themes",page:t};c.post(ajaxurl,o,function(e){c(".theme-browser").append(e),c(".theme-browser-page").hide(),c("#"+a).show(),c(".loading-overlay.theme-loader").removeClass("show"),n(t)})}});var t=c("#one-confirmation"),e=t.attr("data-yes_string"),a=t.attr("data-no_string");t.dialog({dialogClass:"wp-dialog wp-one-dialog",modal:!0,autoOpen:!1,closeOnEscape:!0,width:"25%",hide:{effect:"explode",duration:1e3},resizable:!1,buttons:[{text:a,class:"button",click:function(){c(this).dialog("close")}},{text:e,class:"button button-primary",click:function(){var e=c(this).data("element"),t=c(e).parents("form:first");c(t)[0].submit(),c(this).dialog("close")}}]}),c(".one-deactivate-plugin").click(function(e){e.preventDefault(),t.data("element",this).dialog("open")}),c(".discouraged-modal-close").click(function(){c("#one-confirmation").dialog("close")}),c(".one-theme").hover(function(){c(this).addClass("active")},function(){c(this).removeClass("active")})}),c(window).scroll(function(){onecom_move_up_toggle()}),c(window).load(function(){onecom_move_up_toggle()}),window.onpopstate=function(e){if(void 0!==e&&null!=e.state)var a=e.state.paged;else void 0!==(a=o("paged"))&&""!=a&&null!=a||(a=1);c(".pagination-item").each(function(e,t){c(t).attr("data-request_page")!=a||c(t).trigger("click")})},this.screenshotPreview=function(){xOffset=10,yOffset=30,c(".one-screenshot").hover(function(e){this.t=this.title;var t=(this.title="")!=this.t?"<br/>"+this.t:"";c("body").append("<p id='one-screenshot'><img src='"+c(this).attr("data-preview")+"' alt='url preview' />"+t+"</p>"),c("#screenshot").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px").fadeIn("fast")},function(){this.title=this.t,c("#one-screenshot").remove()}),c(".one-screenshot").mousemove(function(e){c("#one-screenshot").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px")})},c(window).on("resize",t),c(document).on("thickbox:iframe:loaded",function(e){t(),c("#TB_iframeContent").contents().find("head").append(c("<style type='text/css'> .plugin-install-php #plugin-information-footer {display:none !important;} </style>"))}),c(document).on("click",".preview_link",function(){var e=c(this).parents(".one-theme:first"),t=c(".theme-browser > div.one-theme").length,a=c(this).attr("data-demo-url");c("iframe").attr("src",a);var o=c(this).attr("data-id"),n=c(this).closest(".one-theme").next(".one-theme").find(".preview_link").attr("data-id");c(".header_btn_bar .next").attr("data-demo-id",n);var i=c(this).closest(".one-theme").prev(".one-theme").find(".preview_link").attr("data-id");c(".header_btn_bar .previous").attr("data-demo-id",i),c(".header_btn_bar .theme-info").attr("data-theme-count",t),c(".header_btn_bar .theme-info").attr("data-active-demo-id",o),c(".header_btn_bar .preview-install-button").attr("data-active-demo-id",o),c(".header_btn_bar .next").removeAttr("style"),c(".header_btn_bar .previous").removeAttr("style");var r=c(this).attr("data-id");0===c("#demo-"+r).closest(".one-theme").prev(".one-theme").length&&(c(".header_btn_bar .previous").css({opacity:"0.5",cursor:"initial"}),c(".header_btn_bar .previous").attr("data-demo-id","0"));r=c(this).attr("data-id");0===c("#demo-"+r).closest(".one-theme").next(".one-theme").length&&(c(".header_btn_bar .next").css({opacity:"0.5",cursor:"initial"}),c(".header_btn_bar .next").attr("data-demo-id","0")),c(e).hasClass("installed")?c(".header_btn_bar").find(".preview-install-button").hide():c(".header_btn_bar").find(".preview-install-button").show(),tb_show("Preview Popup","#TB_inline?width=full&height=full&inlineId=thickbox_preview&modal=true&class=thickbox",null),c("body").addClass("preview_page")}),c(document).on("click",".close_btn",function(){tb_remove(),setTimeout(function(){c("body").removeClass("preview_page")},500)}),c(document).on("click",".one-dialog-close",function(){tb_remove()}),c(document).on("click",".preview-install-button",function(){var a=c(this).attr("data-active-demo-id"),o=null;c(".one-theme").each(function(e,t){if(c(t).find(".preview_link").attr("data-id")===a)return o=t,!1}),null!=o&&(c("html, body").stop().animate({scrollTop:c(o).offset().top-64},300),c(".close_btn").trigger("click"),c(o).find(".one-install").trigger("click"))}),c(document).on("click","#desktop",function(){c(".preview-container .phone-content").removeClass("phone-content").addClass("desktop-content"),c(".preview-container .preview span").remove(".screen-rotate"),c(".preview-container").removeClass("scroll"),c(".preview-container iframe").removeClass("horizontal"),c(".desktop-content").removeClass("horizontal"),c("#desktop").addClass("current"),c("#mobile").removeClass("current")}),c(document).on("click","#mobile",function(){c(".preview-container .desktop-content").removeClass("desktop-content").addClass("phone-content"),c(".preview-container").addClass("scroll"),c(".preview-container .preview").append('<span class="screen-rotate"></span>'),c("#desktop").removeClass("current"),c("#mobile").addClass("current")}),c(document).on("click",".screen-rotate",function(){c(".preview-container iframe").toggleClass("horizontal"),c(".phone-content").toggleClass("horizontal")}),c(document).on("click",".header_btn_bar .next",function(){var e=c(this).attr("data-demo-id"),t=c("#preview_box .theme-info").attr("data-active-demo-id"),a=c("#demo-"+e).closest(".one-theme").next(".one-theme").length;if(c(".header_btn_bar .preview-install-button").attr("data-active-demo-id",e),"0"===e)event.stopPropagation();else if(0===a){c(this).css({opacity:"0.5",cursor:"initial"}),c(this).attr("data-demo-id",0),c(".header_btn_bar .previous").attr("data-demo-id",t);var o=c("#demo-"+e).attr("data-demo-url"),n=c("#demo-"+e).parents(".one-theme:first");c("iframe").attr("src",o),c(".header_btn_bar .theme-info").attr("data-active-demo-id",e)}else{c(".header_btn_bar .previous").removeAttr("style");o=c("#demo-"+e).attr("data-demo-url"),n=c("#demo-"+e).parents(".one-theme:first");c("iframe").attr("src",o);var i=c("#demo-"+e).closest(".one-theme").next(".one-theme").find(".preview_link").attr("data-id");c(this).attr("data-demo-id",i),c(".header_btn_bar .previous").attr("data-demo-id",t),c(".header_btn_bar .theme-info").attr("data-active-demo-id",e)}c(n).hasClass("installed")?c(".header_btn_bar").find(".preview-install-button").hide():c(".header_btn_bar").find(".preview-install-button").show()}),c(document).on("click",".header_btn_bar .previous",function(){var e=c(this).attr("data-demo-id"),t=c("#preview_box .theme-info").attr("data-active-demo-id"),a=c("#demo-"+e).closest(".one-theme").prev(".one-theme").length;if(c(".header_btn_bar .preview-install-button").attr("data-active-demo-id",e),"0"===e)event.stopPropagation();else if(0===a){c(this).css({opacity:"0.5",cursor:"initial"}),c(this).attr("data-demo-id",0),c(".header_btn_bar .next").attr("data-demo-id",t);var o=c("#demo-"+e).attr("data-demo-url"),n=c("#demo-"+e).parents(".one-theme:first");c("iframe").attr("src",o),c(".header_btn_bar .theme-info").attr("data-active-demo-id",e)}else{c(".header_btn_bar .next").removeAttr("style");o=c("#demo-"+e).attr("data-demo-url"),n=c("#demo-"+e).parents(".one-theme:first");c("iframe").attr("src",o);var i=c("#demo-"+e).closest(".one-theme").prev(".one-theme").find(".preview_link").attr("data-id");c(this).attr("data-demo-id",i),c(".header_btn_bar .next").attr("data-demo-id",t),c(".header_btn_bar .theme-info").attr("data-active-demo-id",e)}c(n).hasClass("installed")?c(".header_btn_bar").find(".preview-install-button").hide():c(".header_btn_bar").find(".preview-install-button").show()}),this.onecom_move_up_toggle=function(){if(0==c(".onecom-move-up").length)return!1;c(window).height()/2<=c(window).scrollTop()?c(".onecom-move-up").addClass("show"):c(".onecom-move-up").removeClass("show")}}(jQuery);